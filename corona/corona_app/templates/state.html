<!DOCTYPE html>
<html>
<head>
    <title>Home</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
 table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 60%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
span.a {
  display: inline-block;
}
.blink-two {
      animation: blinker-two 1.4s linear infinite;
      }
      @keyframes blinker-two {
      100% { opacity: 0; }
      }
* {
  box-sizing: border-box;
}

body {
  width: 100%;
  margin: 0;
  background-color: #E8E8E8;
}

.navbar {
  overflow: hidden;
  background-color: #333;
  font-family: Arial, Helvetica, sans-serif;
}

.navbar a {
  float: left;
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: #8E473F;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  width: 80%;
  left: 0;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content .header {
  background: red;
  padding: 16px;
  color: white;
}

.dropdown:hover .dropdown-content {
  display: block;
}

/* Create three equal columns that floats next to each other */
.column {
  float: left;
  width: 20%;
  padding: 10px;
  background-color: #ccc;
  height: 370px;
}

.column a {
  float: none;
  color: black;
  padding: 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.column a:hover {
  background-color: #ddd;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    height: auto;
  }
}
</style>
</head>
<body>
<h1 class="blink blink-two" style="color:red;float: left; padding-left:10px;"><i class="fa fa-fw fa-exclamation-triangle"></i>Stay Home Stay Safe</h1>
<h1 class="blink blink-two" style="color:red;float: right; text-align: left;padding-right:10px"><i class="fa fa-fw fa-exclamation-triangle"></i>Stay Home Stay Safe</h1>
<center><span class="a"><h1>State : {{data.name}}</h1></span></center>
<marquee bgcolor="#95A5A6">
  Hi these all figures are fetching from covid19.org of India, on which current patient is showing in hourly manner. These
whole stats is for general awareness, does not mean to harm any personel, Kindly go through safety tips.</marquee>
<div class="navbar">
  <a class="active" href="{% url 'home' %}"><i class="fa fa-fw fa-home"></i> Home</a>
  <a href="{% url 'safety-tips' %}"><i class="fa fa-fw fa-info"></i> Safety Tips</a>
  <div class="dropdown">
    <button class="dropbtn"><i class="fa fa-fw fa-bar-chart"></i> States Statistics
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <div class="row">
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=1">Uttar Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=2">Maharashtra</a>
          <a href="{% url 'by-state' %}?state_id=3">Tamil Nadu</a>
          <a href="{% url 'by-state' %}?state_id=4">Karnataka</a>
          <a href="{% url 'by-state' %}?state_id=5">Telangana</a>
          <a href="{% url 'by-state' %}?state_id=6">Jammu and Kashmir</a>
          <a href="{% url 'by-state' %}?state_id=7">Meghalaya</a>
        </div>
        <div class="column"><a href="{% url 'by-state' %}?state_id=8">Punjab</a>
          <a href="{% url 'by-state' %}?state_id=9">Ladakh</a>
          <a href="{% url 'by-state' %}?state_id=10">Manipur</a>
          <a href="{% url 'by-state' %}?state_id=11">Mizoram</a>
          <a href="{% url 'by-state' %}?state_id=12">Madhya Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=13">West Bengal</a>
          <a href="{% url 'by-state' %}?state_id=14">Rajasthan</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=15">Gujarat</a>
          <a href="{% url 'by-state' %}?state_id=16">Bihar</a>
          <a href="{% url 'by-state' %}?state_id=17">Delhi</a>
          <a href="{% url 'by-state' %}?state_id=18">Andhra Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=19">Odisha</a>
          <a href="{% url 'by-state' %}?state_id=20">Andaman & Nicobar</a>
          <a href="{% url 'by-state' %}?state_id=21">Uttarakhand</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=22">Goa</a>
          <a href="{% url 'by-state' %}?state_id=23">Himachal Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=24">Puducherry</a>
          <a href="{% url 'by-state' %}?state_id=25">Kerala</a>
          <a href="{% url 'by-state' %}?state_id=26">Chandigarh</a>
          <a href="{% url 'by-state' %}?state_id=27">Chhattisgarh</a>
          <a href="{% url 'by-state' %}?state_id=28">Haryana</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=29">Assam</a>
          <a href="{% url 'by-state' %}?state_id=30">Jharkhand</a>
          <a href="{% url 'by-state' %}?state_id=31">Arunachal Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=32">Dadar & Nagar Haveli</a>
          <a href="{% url 'by-state' %}?state_id=33">Daman & Diu</a>
          <a href="{% url 'by-state' %}?state_id=34">Lakshadweep</a>
        </div>
      </div>
    </div>
  </div>
  <a href="{% url 'about' %}"><i class="fa fa-fw fa-user-circle-o"></i>About</a>
</div>
<span style="color:#FBFCFC">
  <img src="{{ MEDIA_URL }}/media/stay-home.jpg"
       alt="Apurv"
       style="float: right; padding-right:40px; padding-top:40px;"
       height="400px"
       width="350px">
</span>
<center><table>
    <tr>
        <th style="color:#ff9900">Population</th>
        <th style="color:red">Corona Confirmed Patients in {{data.name}}</th>
    </tr>
        <tr>
        <th>{{data.population}}</th>
        <th style="color:red">{{data.patients}}</th>
    </tr>
        <br>
</table></center>
<center><h2 >Confirmed in districts of {{data.name}} :-</h2></center>
 <center><table>
    <tr>
        <th style="color:blue">District</th>
        <th style="color:red">Corona Confirmed Patients in {{data.name}}</th>
    </tr>
     {% for dist in data.district%}
        <tr>
        <th>{{dist.name}}</th>
        <th style="color:red">{{dist.patients}}</th>
    </tr>
     {% endfor %}
        <br>
</table></center>
<br><br><br>
{% block content %}

  <div id="container" style="width: 85%;">
    <canvas id="population-chart" data-url="{% url 'state-graph' %}?state_id={{data.id}}"></canvas>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $populationChart = $("#population-chart");
      $.ajax({
        url: $populationChart.data("url"),
        success: function (data) {

          var ctx = $populationChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Patients count',
                backgroundColor: '#C0392B',
                data: data.data
              }]
            },
            options: {
              responsive: true,
              scales: {
              yAxes: [{
              ticks: {fontColor: "black", fontSize: 15}
              }],
              xAxes: [{
              ticks: {fontColor: "black", fontSize: 15}
              }]
              },
              legend: {
                position: 'left',
                labels: {
                fontSize: 18,
                fontColor: 'rgb(0, 0, 0)',
            }
              },
              title: {
                position: 'left',
                display: true,
                text: 'Corona Patients Across State Statistics Bar Graph',
                fontColor: 'rgb(0, 0, 0)',
                fontSize: 18,
              }
            }
          });

        }
      });

    });
  </script>
{% endblock %}
</body>
</html>
