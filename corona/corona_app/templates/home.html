<!DOCTYPE html>
<html>
<head>
    <title>Home</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
 table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 60%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
.my-header h1 {
  display:inline-block;
  margin-top: 40px;
  padding-right: 150px;
  padding-left: 100px;
}
.my-header span {
  float: center;
}
.blink-two {
      animation: blinker-two 1.4s linear infinite;
      }
      @keyframes blinker-two {
      100% { opacity: 0; }
      }
* {
  box-sizing: border-box;
}

body {
  width: 100%;
  margin: 0;
  background-image: url({{MEDIA_URL}}/media/body_bg.jpg);
  background-attachment: scroll;
  background-position: left bottom;
  background-repeat: repeat;
  background-size: 100% 100%;
}

.navbar {
  overflow: hidden;
  background-color: #333;
  font-family: Arial, Helvetica, sans-serif;
}

.navbar a {
  float: left;
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: #8E473F;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  width: 80%;
  left: 0;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content .header {
  background: red;
  padding: 16px;
  color: white;
}

.dropdown:hover .dropdown-content {
  display: block;
}

/* Create three equal columns that floats next to each other */
.column {
  float: left;
  width: 20%;
  padding: 10px;
  background-color: #ccc;
  height: 370px;
}

.column a {
  float: none;
  color: black;
  padding: 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.column a:hover {
  background-color: #ddd;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    height: auto;
  }
}
</style>
</head>
<body>
<div class="my-header">
    <h1 style="color:#A3E4D7">Country : {{data.name}}</h1>
    <span class="blink blink-two" style="color:#FBFCFC">
      <h1><i class="fa fa-fw fa-exclamation-triangle"></i> Stay Home Stay Safe !!</h1>
    </span>
</div>
<div style="clear:both"></div>
<marquee style="color:#FBFCFC;" bgcolor="#95A5A6">
  Hi these all figures are fetching from covid19.org of India, on which current patient is showing in hourly manner. These
whole stats is for general awareness, does not mean to harm any personel, Kindly go through safety tips.</marquee>
<div class="navbar">
  <a class="active" href="{% url 'home' %}"><i class="fa fa-fw fa-home"></i> Home</a>
  <a href="{% url 'safety-tips' %}"><i class="fa fa-fw fa-info"></i> Safety Tips</a>
  <div class="dropdown">
    <button class="dropbtn"><i class="fa fa-fw fa-bar-chart"></i> States Statistics
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <div class="row">
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=1">Uttar Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=2">Maharashtra</a>
          <a href="{% url 'by-state' %}?state_id=3">Tamil Nadu</a>
          <a href="{% url 'by-state' %}?state_id=4">Karnataka</a>
          <a href="{% url 'by-state' %}?state_id=5">Telangana</a>
          <a href="{% url 'by-state' %}?state_id=6">Jammu and Kashmir</a>
          <a href="{% url 'by-state' %}?state_id=7">Meghalaya</a>
        </div>
        <div class="column"><a href="{% url 'by-state' %}?state_id=8">Punjab</a>
          <a href="{% url 'by-state' %}?state_id=9">Ladakh</a>
          <a href="{% url 'by-state' %}?state_id=10">Manipur</a>
          <a href="{% url 'by-state' %}?state_id=11">Mizoram</a>
          <a href="{% url 'by-state' %}?state_id=12">Madhya Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=13">West Bengal</a>
          <a href="{% url 'by-state' %}?state_id=14">Rajasthan</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=15">Gujarat</a>
          <a href="{% url 'by-state' %}?state_id=16">Bihar</a>
          <a href="{% url 'by-state' %}?state_id=17">Delhi</a>
          <a href="{% url 'by-state' %}?state_id=18">Andhra Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=19">Odisha</a>
          <a href="{% url 'by-state' %}?state_id=20">Andaman & Nicobar</a>
          <a href="{% url 'by-state' %}?state_id=21">Uttarakhand</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=22">Goa</a>
          <a href="{% url 'by-state' %}?state_id=23">Himachal Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=24">Puducherry</a>
          <a href="{% url 'by-state' %}?state_id=25">Kerala</a>
          <a href="{% url 'by-state' %}?state_id=26">Chandigarh</a>
          <a href="{% url 'by-state' %}?state_id=27">Chhattisgarh</a>
          <a href="{% url 'by-state' %}?state_id=28">Haryana</a>
        </div>
        <div class="column">
          <a href="{% url 'by-state' %}?state_id=29">Assam</a>
          <a href="{% url 'by-state' %}?state_id=30">Jharkhand</a>
          <a href="{% url 'by-state' %}?state_id=31">Arunachal Pradesh</a>
          <a href="{% url 'by-state' %}?state_id=32">Dadar & Nagar Haveli</a>
          <a href="{% url 'by-state' %}?state_id=33">Daman & Diu</a>
          <a href="{% url 'by-state' %}?state_id=34">Lakshadweep</a>
        </div>
      </div>
    </div>
  </div>
  <a href="{% url 'about' %}"><i class="fa fa-fw fa-user-circle-o"></i>About</a>
</div>
<span style="color:#FBFCFC">
  <img src="{{ MEDIA_URL }}/media/stay-home.jpg"
       alt="Apurv"
       style="float: right; padding-right:40px; padding-top:40px;"
       height="400px"
       width="350px">
</span>
<br> <center> <table>
    <tr>
        <th style="color:#AED6F1">Population</th>
        <th style="color:#641E16">Confirmed Corona Patients</th>
        <th style="color:#C0392B">Active (still +ve)</th>
        <th style="color:green">Recovered</th>
        <th style="color:#BB3518">Death</th>
    </tr>
        <tr>
        <th>{{data.population}}</th>
        <th style="color:#641E16">{{data.patients}}</th>
            <th style="color:red">{{data.active_now}}</th>
        <th style="color:green">{{data.recovered}}</th>
        <th style="color:#BB3518">{{data.death}}</th>
    </tr>
</table></center><br>
<center><h2>Data Across States of {{data.name}} :-</h2></center>
   <center> <table>
    <tr>
        <th style="color:blue">State Name</th>
        <th style="color:#AED6F1">Population</th>
        <th style="color:#641E16">Confirmed Corona Patients</th>
    </tr>
{% for i in data.state%}
        <tr>
        <th>{{i.name}}</th>
        <th>{{i.population}}</th>
        <th style="color:#641E16">{{i.patients}}</th>
    </tr>
    {% endfor %}</table></center>
<br><br><br>
        {% block content1 %}

  <div id="container_" style="width: 75%;">
    <canvas id="pie-chart" data-url="{% url 'graph' %}"></canvas>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $pieChart = $("#pie-chart");
      $.ajax({
        url: $pieChart.data("url"),
        success: function (data) {

          var ctx = $pieChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'doughnut',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Patient Count',
                backgroundColor: [
                '#4EE589', '#E5694E', '#904EE5', '#E5DE4E', '#5EE078', '#5499C7', '#FAD7A0', '#B2BABB',
                '#D4AC0D', '#2E4053', '#C39BD3', '#138D75', '#A04000', '#F4F6F7', '#7FB3D5', '#F6DDCC',
                '#52BE80', '#F5B041', '#EAF2F8', '#7E5109', '#626567', '#D4EFDF', '#EDBB99', '#7DCEA0',
                '#5B2C6F', '#6E2C00', '#5B2C6F', '#DC7633', '#3498DB', '#2ECC71', '#F1C40F', '#154360',
                '#B9770E', '#641E16', '#ABEBC6', '#E59866'
                ],
                data: data.data
              }]
            },
            options: {
              responsive: true,
              legend: {
                position: 'right',
                labels: {
                fontSize: 14,
                fontColor: 'rgb(235, 245, 251)'
            }
              },
              title: {
                position: 'left',
                display: true,
                text: 'Corona Patient Across India Statistics Pie Chart',
                fontColor: 'rgb(235, 245, 251)',
                fontSize: 18,
              }
            }
          });

        }
      });

    });
  </script><br><br>
{% block content %}

  <div id="container" style="width: 75%;">
    <canvas id="population-chart" data-url="{% url 'graph' %}"></canvas>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $populationChart = $("#population-chart");
      $.ajax({
        url: $populationChart.data("url"),
        success: function (data) {

          var ctx = $populationChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Patient Count',
                backgroundColor: '#C0392B',
                data: data.data
              }]
            },
            options: {
              responsive: true,
              scales: {
              yAxes: [{
              ticks: {fontColor: "white", fontSize: 15}
              }],
              xAxes: [{
              ticks: {fontColor: "white", fontSize: 15}
              }]
              },
              legend: {
                position: 'right',
                labels: {
                fontSize: 18,
                fontColor: 'rgb(235, 245, 251)'
            }
              },
              title: {
                position: 'left',
                display: true,
                text: 'Corona Patient Across India Statistics Bar Graph',
                fontColor: 'rgb(235, 245, 251)',
                fontSize: 18,
              }
            }
          });

        }
      });

    });
  </script>
    {% endblock %}
{% endblock %}
</body>
</html>
